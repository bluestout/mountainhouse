{% if type == 'block' %}
  {% assign wide_display = block.settings.wide_display %}
  {% assign newsletter_title = block.settings.newsletter_title %}
  {% assign newsletter_text = block.settings.newsletter_text %}
  {% assign display_first_name = block.settings.display_first_name %}
  {% assign display_last_name = block.settings.display_last_name %}
  {% assign newsletter_section_text_align = block.settings.newsletter_section_text_align %}
  {% assign image = block.settings.image %}
{% else %}
  {% assign wide_display = section.settings.wide_display %}
  {% assign newsletter_title = section.settings.newsletter_title %}
  {% assign newsletter_text = section.settings.newsletter_text %}
  {% assign display_first_name = section.settings.display_first_name %}
  {% assign display_last_name = section.settings.display_last_name %}
  {% assign newsletter_section_text_align = section.settings.newsletter_section_text_align %}
  {% assign image = section.settings.image %}
{% endif %}

{% if wide_display == false %}
  <div class="container">
    <div class="sixteen columns">
{% endif %}
      <div class="newsletter_section
                  {% if display_first_name and display_last_name %}newsletter-both-names--true {% else %}newsletter-both-names--false {% endif %}
                  {% if image != nil %}newsletter-bgr-true{% endif %}
                  text-align--{{newsletter_section_text_align}}
                  lazyload
                  {{ settings.image_loading_style }}"
            {% if image != nil %}
              data-bgset="  {{ image | img_url: '2048x' }} 2048w,
                            {{ image | img_url: '1600x' }} 1600w,
                            {{ image | img_url: '1200x' }} 1200w,
                            {{ image | img_url: '1000x' }} 1000w,
                            {{ image | img_url: '800x' }} 800w,
                            {{ image | img_url: '600x' }} 600w,
                            {{ image | img_url: '400x' }} 400w"
              data-sizes="100vw"
            {% endif %}>
        <div class="container">
          <div class="{% if newsletter_section_text_align == "center" %}offset-by-three{% elsif newsletter_section_text_align == "right" %} offset-by-six{% endif %} ten columns section_form">
            {% if newsletter_title != blank %}
              <h2 class="title">{{ newsletter_title }}</h2>
            {% endif %}
            {% if newsletter_text != blank %}
              <div class="newsletter-text">{{ newsletter_text }}</div>
            {% endif %}
            <div class="newsletter">
              <div class="klaviyo-form-YjK62s"></div>
            </div>
          </div>
        </div>
      </div>
{% if wide_display == false %}
  </div>
</div>
{% endif %}
